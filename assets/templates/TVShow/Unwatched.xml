<atv>
  <head>
    <script src="{{URL(:/js/utils.js)}}" />
  </head>

  <body>
      {{VAR(items:NoKey:FALSE)}}

    <scroller id="Show_Artwork" volatile="true">
      <header>
          <imageHeader>
           <image insets="0, 0, {{VAL(^aTVScreenResolution:1:720=550|1080=825)}}, 0" required="true">
          {{URL(:/fanartcache/{{getBackground({{EVAL({\
              'title'       : "{{EVAL(quote_plus("{{VAL(title1)}}"))}}",\
              'subtitle'    : "{{EVAL(quote_plus("{{VAL(title2)}}"))}}",\
              'resolution'  : "{{VAL(^aTVScreenResolution)}}",\
              'layers'      : ["PlexSubGrid"]\
              })}})}})}}
          </image>
          </imageHeader>
      </header>
      
      <items>          
        <grid columnCount="7" id="grid_0">
          <items>
            <moviePoster id="{{VAL(key)}}" alwaysShowTitles="{{VAL($postertitles::Highlighted Only=false|Show All=true)}}"
                        onPlay="atv.loadURL('{{URL(key:::PlexConnect=TVShow_Season)}}')"
                        onSelect="atv.loadURL('{{URL(key:::PlexConnect=TVShow_Season)}}')"
                        onHoldSelect="scrobbleMenu('{{URL(key:::PlexConnect=Scrobble_MenuShow)}}')">
              {{COPY(Directory)}}
              <title>{{VAL(title)}}</title>
              <image>{{IMAGEURL(thumb::768)}}</image>
              <defaultImage>resource://Poster.png</defaultImage>
              <badgeCount>{{unwatchedCountGrid(leafCount:0:viewedLeafCount:0)}}</badgeCount>{{CUT($showunwatched::False=CUT|True=)}}
            </moviePoster>{{CUT(Directory/title:CUT:=)}}

            <moviePoster id="none">
              <title>{{TEXT(No Unwatched Shows)}}</title>
              <defaultImage>resource://Poster.png</defaultImage>
            </moviePoster>{{CUT(Directory/title::=CUT)}}
          </items>
        </grid>
      </items>
    </scroller>
  </body>{{CUT($showview::List=CUT|Grid=)}}

  <body>
    <itemCollectionWithImageHeader id="Show_List">
      <header>
	    <imageHeader>
	      <image insets="0, 0, {{VAL(^aTVScreenResolution:1:720=552|1080=828)}}, 0" required="true">
	      {{URL(:/fanartcache/{{getBackground({{EVAL({\
              'title'       : "{{EVAL(quote_plus("{{VAL(title1)}}"))}}",\
              'subtitle'    : "{{EVAL(quote_plus("{{VAL(title2)}}"))}}",\
              'resolution'  : "{{VAL(^aTVScreenResolution)}}",\
              'layers'      : ["PlexSubList"]\
              })}})}})}}
	      </image>
	    </imageHeader>
      </header>
      <menu>
        <sections>
          <menuSection>
            <items>
              <oneLineMenuItem id="{{VAL(key)}}" onPlay="atv.loadURL('{{URL(key:::PlexConnect=TVShow_Season)}}')"
                                                 onSelect="atv.loadURL('{{URL(key:::PlexConnect=TVShow_Season)}}')"
                                                 onHoldSelect="scrobbleMenu('{{URL(key:::PlexConnect=Scrobble_Menu)}}')">
                {{COPY(Directory)}}
                <label>{{VAL(title)}}</label>
								<rightLabel>{{unwatchedCountList(leafCount:0:viewedLeafCount:0)}}</rightLabel>{{CUT($showunwatched::False=CUT|True=)}}
                <preview>
                  <crossFadePreview>
                    <image>{{IMAGEURL(thumb::768)}}</image>
                  </crossFadePreview>
                </preview>
              </oneLineMenuItem>{{CUT(Directory/title:CUT:=)}}

              <oneLineMenuItem id="none">
                <label>{{TEXT(No Unwatched Shows)}}</label>
              </oneLineMenuItem>{{CUT(Directory/title::=CUT)}}
            </items>
          </menuSection>
        </sections>
      </menu>
    </itemCollectionWithImageHeader>
  </body>{{CUT($showview::List=|Grid=CUT)}}

</atv>
